# SQL-Test-Task-
Тестовое задание на программиста SQL


Есть база интернет-магазина со следующей структурой:
1)	Agents - Агенты
2)	Goods – Товары
3)	GoodProperties - Свойства товара
4)	Colors - Справочник цветов
5)	Orders – Заказы
6)	OrderDetails - Детализация заказа


  	![image](https://github.com/Rikardos196/SQL-Test-Task-/assets/132658467/5820fcd9-cdda-4b5f-b823-01ff2d74cd06)


Задания:
1.	Сгенерировать данные
a)	Заполнить таблицы агентов, товаров, цветов произвольными значениями (н-р, Агент1, Агент2 и т.д. для таблицы Agents). Всего должно быть  от 15 агентов, от 10 товаров, от 3 цветов.
b)	Заполнить таблицы заказов и детализации заказов:

Описание полей таблицы заказов:
  Orders.AgentId — агент, сделавший заказ;
  Orders.CreateDate — дата создания заказа.
Описание полей таблицы детализации заказов:
  OrderDetails.OrderId — идентификатор заказа; 
  OrderDetails.GoodId — идентификатор товара;
  OrderDetails.GoodCount — количество единиц товара.
  Будем считать, что цена товара не имеет значения, поэтому ее тут нет :)

Условия:
●	Количество заказов для каждого агента должно варьироваться в диапазоне от 10 до 40;
●	Orders.CreateDate должна заполняться значениями в диапазоне от 01.01.2020 до 31.03.2023;
●	Для каждого заказа должна быть заполнена детализация:  1-5 строчек, ссылающихся на разные товары. В рамках одного заказа не может быть двух строк детализации, ссылающихся на один и тот же товар;
●	OrderDetails.GoodCount должно заполняться значениями в диапазоне от 1 до 10.

c)	Заполнить таблицу свойств товаров.
Поля таблицы:
  GoodProperties.GoodId – идентификатор товара; 
  GoodProperties.ColorId – идентификатор цвета; 
  GoodProperties.Bdate – дата начала действия цвета;
  GoodProperties.Edate – дата окончания действия цвета.
    
Условия:
●	У 4-х товаров завести свойства с произвольных дат. У каждого из 4х товаров должно быть хотя бы 2 изменения свойства.

2.	Написать запросы, которые в итоговом варианте возвращают:
  a)	Список товаров, у которых на заданную дату не задан цвет.
  b)	Проверка корректности заведённых данных: у каждого товара на любом периоде должен быть задан только один цвет. Вывести товары, у которых есть пересечение периодов действия цвета.
  c)	Список агентов, количество заказов которых за 2022 год более 10.
  d)	Список агентов, у которых в последнем заказе не было Товара1 Цветом2. Также указать суммарное количество единиц товаров в этом заказе.
  e)	Вывести количество купленных товаров накопительным итогом помесячно за период с 01.01.2023 по 31.03.2023. 

Пример: Товар1 был куплен 2 раза в январе, 3 раза в феврале, 1 раз в марте. Результат должен быть следующим:

Дата	      Наименование	Кол-во в месяце	Итог
31.01.2023	Товар1	      2             	2
29.02.2023	Товар1	      3	              5
31.03.2023	Товар1	      1	              6
